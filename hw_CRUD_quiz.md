# CRUD Quiz

Use the solution to this afternoon's Property Tracker lab to answer the following questions. Please write your answers under each question, push the file to GitHub, and submit in the usual way.

## MVP Questions

In our Property Tracker application:

Q1. Where are we instantiating instances of the `Property` class?
A: In the file cosole.rb.

Q2. Where are we defining the SQL that enables us to save the ruby `Property` object into the database?
A: In the folder db, file properties.sql.

Q3. In `console.rb`, which lines modify the database?
A: Not quite sure. There has a method in property.rb called update, but didn't called in console.rb.

Q4. Why do we not define the id of a `Property` object at the point we instantiate it (‘new it up’)?
A: Because when we create an instance of Property, we don't know the id. It was created by database.

Q5. Where and how do we assign the id (that is generated by the database) to the ruby `Property` object?
A: After we insert the row to the database, we can get the id using the keyword RETURNING in the sql statement.

Q6. Why do we put a guard (an `if` clause) on the `@id` attribute in the constructor?
A: There has no keyword called 'id' in the Hash instantiate statement in file console.rb. So, properties['id'] is an object of class NIL. And class NIl doesn't have a method called to_i. It will give an undefined method error in the runtime. We can use if clause to avoid this.  

Q7. Why are some of the CRUD actions represented by instance methods, and others by class methods?
A: instance methods means the methods are depend on each instance, but class methods are the same for all the instance belong to this class. instance methods doesn't exist until an instance created, but the class methods exist as long as the class compiled?

Q8. What type of data structure is returned by calls to `db.exec_prepared()`? In the `save` method, how do we access the id from the returned data structure?
A: It is an array of Hash. Like [{"id"=>"1","address"=>"1 prince street"},{"id"=>"2","address"=>"2 george street"}] . We get the first item of the array and get id by key "id".

Q9. Why do we use prepared statements when performing database operations?
A: To avoid something like sql injection.
## Extension Questions

Look at the `find_by_id` and `find_by_address` methods in the `Property` class.

Q10. What do they take in as their arguments?
A: find_by_id take integer as arguments, find_by_address take string as arguments. 

Q11. What are their return values?
A: They return an instance of class Property.
